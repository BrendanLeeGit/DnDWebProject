<!DOCTYPE html>

<html>

  <head>
    <title>
      D&D Combat Tool
    </title>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ" crossorigin="anonymous">

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha2/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-qKXV1j0HvMUeCBQ+QVp7JcfGl760yU08IQ+GpUo5hlbpg51QRiuqHAJz8+BrxE/N"
      crossorigin="anonymous"></script>

    <link href="style.css" rel="stylesheet">

    <link rel="icon" type="image" href="./Images/favicon.png">
    <script src="table.js" type="text/javascript"></script>

  </head>

  <body>
    <!-- NAV BAR -->
    <nav class="navbar navbar-expand-lg">
      <div class="container-fluid">
        <a class="navbar-brand" href="#" style="font-weight: bold"><img src="./Images/dnd.png" height="45px" width="40px"> D&D Combat Tool</a>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent"
          aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarSupportedContent">
          <ul class="navbar-nav me-auto mb-2 mb-lg-0">
            <!-- COMBAT GUIDE & CONDITIONS -->
            <li class="nav-item dropdown">
              <a class="nav-link dropdown-toggle button" href="#" role="button" data-bs-toggle="dropdown"
                aria-expanded="false">
                Combat Guide & Conditions
              </a>
              <ul class="dropdown-menu li_color">
                <li><a class="dropdown-item button_li" target="_blank"
                    href="https://www.dndbeyond.com/sources/basic-rules/combat">Combat Guide</a></li>
                <li><a class="dropdown-item button_li" target="_blank"
                    href="https://www.dndbeyond.com/sources/basic-rules/appendix-a-conditions">Conditions</a>
                </li>
              </ul>
            </li>
            <!-- CLASSES -->
            <li class="nav-item dropdown">
              <a class="nav-link dropdown-toggle button" href="#" role="button" data-bs-toggle="dropdown"
                aria-expanded="false">
                Classes
              </a>
              <ul class="dropdown-menu li_color">
                <li><a class="dropdown-item button_li" target="_blank" href="https://www.dndbeyond.com/classes">For More -
                    Click Here</a></li>
                <li>
                  <hr class="dropdown-divider">
                </li>
                <li><a class="dropdown-item button_li" target="_blank"
                    href="https://www.dndbeyond.com/classes/barbarian">Barbarian</a></li>
                <li><a class="dropdown-item button_li" target="_blank"
                    href="https://www.dndbeyond.com/classes/bard">Bard</a></li>
                <li><a class="dropdown-item button_li" target="_blank"
                    href="https://www.dndbeyond.com/classes/cleric">Cleric</a></li>
                <li><a class="dropdown-item button_li" target="_blank"
                    href="https://www.dndbeyond.com/classes/druid">Druid</a></li>
                <li><a class="dropdown-item button_li" target="_blank"
                    href="https://www.dndbeyond.com/classes/fighter">Fighter</a></li>
                <li><a class="dropdown-item button_li" target="_blank"
                    href="https://www.dndbeyond.com/classes/monk">Monk</a></li>
                <li><a class="dropdown-item button_li" target="_blank"
                    href="https://www.dndbeyond.com/classes/paladin">Paladin</a></li>
                <li><a class="dropdown-item button_li" target="_blank"
                    href="https://www.dndbeyond.com/classes/ranger">Ranger</a></li>
                <li><a class="dropdown-item button_li" target="_blank"
                    href="https://www.dndbeyond.com/classes/rogue">Rogue</a></li>
                <li><a class="dropdown-item button_li" target="_blank"
                    href="https://www.dndbeyond.com/classes/sorcerer">Sorcerer</a></li>
                <li><a class="dropdown-item button_li" target="_blank"
                    href="https://www.dndbeyond.com/classes/warlock">Warlock</a></li>
                <li><a class="dropdown-item button_li" target="_blank"
                    href="https://www.dndbeyond.com/classes/wizard">Wizard</a></li>
              </ul>
            </li>
            <!-- RACES -->
            <li class="nav-item dropdown">
              <a a class="nav-link dropdown-toggle button" href="#" role="button" data-bs-toggle="dropdown"
                aria-expanded="false">
                Races
              </a>
              <ul class="dropdown-menu li_color">
                <li><a class="dropdown-item button_li" target="_blank" href="https://www.dndbeyond.com/races">For More -
                    Click Here</a></li>
                <li>
                  <hr class="dropdown-divider">
                </li>
                <li><a class="dropdown-item button_li" target="_blank"
                    href="https://www.dndbeyond.com/races/16-dragonborn">Dragonborn</a></li>
                <li><a class="dropdown-item button_li" target="_blank"
                    href="https://www.dndbeyond.com/races/13-dwarf">Dwarf</a></li>
                <li><a class="dropdown-item button_li" target="_blank"
                    href="https://www.dndbeyond.com/races/3-elf">Elf</a></li>
                <li><a class="dropdown-item button_li" target="_blank"
                    href="https://www.dndbeyond.com/races/18-gnome">Gnome</a></li>
                <li><a class="dropdown-item button_li" target="_blank"
                    href="https://www.dndbeyond.com/races/20-half-elf">Half-Elf</a></li>
                <li><a class="dropdown-item button_li" target="_blank"
                    href="https://www.dndbeyond.com/races/14-halfling">Halfling</a></li>
                <li><a class="dropdown-item button_li" target="_blank"
                    href="https://www.dndbeyond.com/races/2-half-orc">Half-Orc</a></li>
                <li><a class="dropdown-item button_li" target="_blank"
                    href="https://www.dndbeyond.com/races/1-human">Human</a></li>
                <li><a class="dropdown-item button_li" target="_blank"
                    href="https://www.dndbeyond.com/races/7-tiefling">Tiefling</a></li>
              </ul>
            </li>
            <!-- SPELLS -->
            <li class="nav-item dropdown">
              <a a class="nav-link dropdown-toggle button" href="#" role="button" data-bs-toggle="dropdown"
                aria-expanded="false">
                Spells
              </a>
              <ul class="dropdown-menu li_color">
                <li><a class="dropdown-item button_li" target="_blank" href="https://www.dndbeyond.com/spells">D&DBeyond -
                    All Spells</a></li>
                <li><a class="dropdown-item button_li" target="_blank" href="http://dnd5e.wikidot.com/spells">Wikidot -
                    All Spells</a></li>
              </ul>
            </li>
            <!-- MONSTERS -->
            <li class="nav-item dropdown">
              <a a class="nav-link dropdown-toggle button" href="#" role="button" data-bs-toggle="dropdown"
                aria-expanded="false">
                Monsters
              </a>
              <ul class="dropdown-menu li_color">
                <li><a class="dropdown-item button_li" target="_blank"
                    href="https://www.aidedd.org/dnd-filters/monsters.php">AideDD - Monsters</a></li>
                <li><a class="dropdown-item button_li" target="_blank" href="https://www.dndbeyond.com/monsters">D&DBeyond
                    - Monsters</a></li>
                <li><a class="dropdown-item button_li" target="_blank"
                    href="https://roll20.net/compendium/dnd5e/Monsters%20List#content">Roll20 - Monsters</a></li>
              </ul>
            </li>
          </ul>
        </div>
      </div>
    </nav>



    <!-- Hidden field: entities array from table.js -->
    <p id="test" hidden></p>
    <br><br>

    <table>
      <tr>
        <!-- FORM -->
        <td>
          <div class="container_form">
            <table>
              <form class="form-group form_spacing" name="entityForm" onsubmit="addArray(); clearTable(false); createTable(); displayImage();return false">
                <tr>
                  <td colspan="2" style="padding-bottom: 10px;font-weight: bold">
                    <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" fill="currentColor" class="bi bi-info-square-fill" viewBox="0 0 16 16" style="cursor: pointer" id="infoIcon" onclick="alertMessage('Enter a player or enemy\'s name, race, initiative (range: -99 to 99), armor class (AC; range: -7 to 114), and upload their picture.')">
                      <path d="M0 2a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2zm8.93 4.588-2.29.287-.082.38.45.083c.294.07.352.176.288.469l-.738 3.468c-.194.897.105 1.319.808 1.319.545 0 1.178-.252 1.465-.598l.088-.416c-.2.176-.492.246-.686.246-.275 0-.375-.193-.304-.533L8.93 6.588zM8 5.5a1 1 0 1 0 0-2 1 1 0 0 0 0 2z"/>
                    </svg> Initiative Tracker
                  </td>
                </tr>
                <tr>
                  <td><label>Name:</label></td>
                  <td><input class="form-control-sm form_spacing widthSize" type="text" name="entityName" required></td>
                </tr>

                <tr>
                  <td><label>Race:</label></td>
                  <td><input class="form-control-sm form_spacing widthSize" type="text" name="race" required></td>
                  <!-- pattern = "[a-zA-Z\-?]{1-5}" -->
                </tr>

                <tr>
                  <td><label>Class:</label></td>
                  <td><input class="form-control-sm form_spacing widthSize" type="text" name="entityClass" value="N/A"></td>
                  <!-- pattern = "[a-zA-Z\-?]{1-5}" -->
                </tr>

                <tr>
                  <td><label>Initiative:</label></td>
                  <td><input class="form-control-sm form_spacing widthSize" type="number" name="init" min="-99" max="99" required>
                  </td>
                </tr>

                <tr>
                  <td><label>AC:</label></td>
                  <td><input class="form-control-sm form_spacing widthSize" type="number" name="ac" min="-7" max="114" required>
                  </td>
                </tr>

                <tr>
                  <td><label>Picture:</label></td>
                  <td><input class="form-control-sm form_spacing widthSize" style="border: none; width:200px" id="entityPic" type="file" name="pic" accept=".jpg,.png,.gif"></td>
                </tr>

                <tr>
                  <td>
                    <input id="button_wh" class="button_submit" type="submit" value="Submit">
                  </td>
                </tr>
              </form>
            </table>
          </div>
        </td>
        <!-- TABLE -->
        <td rowspan="2">
          <!-- Include a table to store the contents of each person's information
                          User should be able to change to the next person (therefore the person at the top moves to the bottom of the list)
                          Add a destroy button for each user
                          Add a clear table button to clear the table -->
          <div class="container_table overflow-auto">
            <table id="entityTable" class="table table-striped table-hover rounded rounded-3 overflow-hidden" width="100%">
              <tr style="vertical-align: middle" align="center">
                  <th style="color: #090707">Name</th>
                  <th style="color: #090707">Race</th>
                  <th style="color: #090707">Class</th>
                  <th style="color: #090707">Initiative</th>
                  <th style="color: #090707">AC</th>
                  <th style="color: #090707"><button class="button_submit button_delete button2_wh" style="margin-left: 25px;margin-right: 27px" onclick="confirmationBox()">Clear Table</button>
                    <button class="button_submit button2_wh" onclick="nextEntity()">Next Entity</button></th>
              </tr>
            </table>
          </div>
        </td>
        <!-- PORTRAIT -->
        <td>
          <div class="container_form" align="center">
            <div id="divPic"></div>
            <p1 id="displayName">Add a player or enemy to the table to display their portrait here</p1>
          </div>
        </td>
      </tr>

      <tr>
        <!-- DICE ROLLS -->
        <td>
          <br>
          <div class="container_form">
            <div>
              <table>
                  <tr>
                      <td style="width: 200px;">
                          <div style="white-space: nowrap;">
                            <img src="./Images/Dice1.png" height="45px" width="40px">
                            <button class="btn btn-dark" style="width: 80px;" onclick="rollDice(20, 'd20')">D20</button><br>
                          </div>
                          
                          
                      </td>
                      <td>
                          <p1 id = "d20">0</p1><br>
                      </td>
                  </tr>
      
                  <tr>
                      <td>
                        <div style="white-space: nowrap;">
                          <img src="./Images/Dice5.png" height="45px" width="40px">
                          <button class="btn btn-dark" style="width: 80px;" onclick="rollDice(12, 'd12')">D12</button><br>
                        </div>                          
                      </td>
                      <td>
                          <p1 id = "d12">0</p1><br>
                      </td>
                  </tr>
      
                  <tr>
                      <td>
                        <div style="white-space: nowrap;">
                          <img src="./Images/Dice4.png" height="45px" width="40px">
                          <button class="btn btn-dark" style="width: 80px;" onclick="rollDice(100, 'd100')">D100</button><br>
                        </div>                          
                      </td>
                      <td>
                          <p1 id = "d100">0</p1><br>
                      </td>
                  </tr>
      
                  <tr>
                      <td>
                        <div style="white-space: nowrap;">
                          <img src="./Images/Dice4.png" height="45px" width="40px">
                          <button class="btn btn-dark" style="width: 80px;" onclick="rollDice(10, 'd10')">D10</button><br>
                        </div>                          
                      </td>
                      <td>
                          <p1 id = "d10">0</p1><br>
                      </td>
                  </tr>
      
                  <tr>
                      <td>
                        <div style="white-space: nowrap;">
                          <img src="./Images/Dice2.png" height="45px" width="40px">
                          <button class="btn btn-dark" style="width: 80px;" onclick="rollDice(8, 'd8')">D8</button><br>
                        </div>                          
                      </td>
                      <td>
                          <p1 id = "d8">0</p1><br>
                      </td>
                  </tr>
      
                  <tr>
                      <td>
                        <div style="white-space: nowrap;">
                          <img src="./Images/Dice6.png" height="45px" width="40px">
                          <button class="btn btn-dark" style="width: 80px;" onclick="rollDice(6, 'd6')">D6</button><br>
                        </div>                          
                      </td>
                      <td>
                          <p1 id = "d6">0</p1><br>
                      </td>
                  </tr>
      
                  <tr>
                      <td>
                        <div style="white-space: nowrap;">
                          <img src="./Images/Dice3.png" height="45px" width="40px">
                          <button class="btn btn-dark" style="width: 80px;" onclick="rollDice(4, 'd4')">D4</button><br>
                        </div>                          
                      </td>
                      <td>
                          <p1 id = "d4">0</p1><br>
                      </td>
                  </tr>
              </table>
          </div>
          </div>
        </td>
        <!-- HEALTH TRACKERS -->
        <td>
          <div class="container_form" style="width: 390px;">
            <div style="height: 395px; width: 400px; Overflow-y:scroll;">

              <div class="container_form_health" style="font-size: 11px;">
                <div style="height:135px; width: 300px;">
                  <table style="width:100%;">
                    <tr >
                      <td>
                        <button type="button" style="width: 60px; height: 30px; padding: .05em;" class="btn btn-danger" onclick="incrementHealth(0)">Heal</button>
                      </td>
                      <td>
                        <input placeholder="Name" type="text" style="height: 40px; width: 200px; font-size: 30px;">
                      </td>
                    </tr>
                    
                    <tr>
                      <td>
                        <input type="text" id="changeAmountOne" style="font-size: 20px; height: 40px; width: 60px;"></input>
                      </td>
                      <td style="font-size: 30px; text-align: center; width: 30%;">
                        <div>
                          <span id="currentHealthOne">0</span> / <span id="maxHealthOne">0</span>
                        </div>
                      </td>
                    </tr>
                    
                    <tr>
                      <td>
                        <button type="button" style="width: 60px; height: 30px; padding: .05em;" onclick="reduceHealth(0)" class="btn btn-danger">Dmg</button>
                      </td>
                      <td>
                        <input type="text" placeholder="MaxHP" id="maxHealthChangeAmountOne" style="height: 40px; width: 100px; font-size: 30px;">
                        <input type="button" class="btn btn-warning" value="Submit" onclick="setMaxHealth(0)" style="height: 100%; margin-top:-14px;"; id="maxHPSubmit">
                      </td>
                    </tr>
                    
                  </table>

                </div>
              </div>

              <br>

              <div class="container_form_health" style="font-size: 11px;">
                <div style="height:135px; width: 300px;">
                  <table style="width:100%;">
                    <tr >
                      <td>
                        <button type="button" style="width: 60px; height: 30px; padding: .05em;" class="btn btn-danger" onclick="incrementHealth(1)">Heal</button>
                      </td>
                      <td>
                        <input placeholder="Name" type="text" style="height: 40px; width: 200px; font-size: 30px;">
                      </td>
                    </tr>
                    
                    <tr>
                      <td>
                        <input type="text" id="changeAmountTwo" style="font-size: 20px; height: 40px; width: 60px;"></input>
                      </td>
                      <td style="font-size: 30px; text-align: center; width: 30%;">
                        <div>
                          <span id="currentHealthTwo">0</span> / <span id="maxHealthTwo">0</span>
                        </div>
                      </td>
                    </tr>
                    
                    <tr>
                      <td>
                        <button type="button" style="width: 60px; height: 30px; padding: .05em;" onclick="reduceHealth(1)" class="btn btn-danger">Dmg</button>
                      </td>
                      <td>
                        <input type="text" placeholder="MaxHP" id="maxHealthChangeAmountTwo" style="height: 40px; width: 100px; font-size: 30px;">
                        <input type="button" class="btn btn-warning" value="Submit" onclick="setMaxHealth(1)" style="height: 100%; margin-top:-14px;"; id="maxHPSubmit">
                      </td>
                    </tr>
                    
                  </table>

                </div>
              </div>

              <br>

              <div class="container_form_health" style="font-size: 11px;">
                <div style="height:135px; width: 300px;">
                  <table style="width:100%;">
                    <tr >
                      <td>
                        <button type="button" style="width: 60px; height: 30px; padding: .05em;" class="btn btn-danger" onclick="incrementHealth(2)">Heal</button>
                      </td>
                      <td>
                        <input placeholder="Name" type="text" style="height: 40px; width: 200px; font-size: 30px;">
                      </td>
                    </tr>
                    
                    <tr>
                      <td>
                        <input type="text" id="changeAmountThree" style="font-size: 20px; height: 40px; width: 60px;"></input>
                      </td>
                      <td style="font-size: 30px; text-align: center; width: 30%;">
                        <div>
                          <span id="currentHealthThree">0</span> / <span id="maxHealthThree">0</span>
                        </div>
                      </td>
                    </tr>
                    
                    <tr>
                      <td>
                        <button type="button" style="width: 60px; height: 30px; padding: .05em;" onclick="reduceHealth(2)" class="btn btn-danger">Dmg</button>
                      </td>
                      <td>
                        <input type="text" placeholder="MaxHP" id="maxHealthChangeAmountThree" style="height: 40px; width: 100px; font-size: 30px;">
                        <input type="button" class="btn btn-warning" value="Submit" onclick="setMaxHealth(2)" style="height: 100%; margin-top:-14px;"; id="maxHPSubmit">
                      </td>
                    </tr>
                    
                  </table>

                </div>
              </div>

              <br>

              <div class="container_form_health" style="font-size: 11px;">
                <div style="height:135px; width: 300px;">
                  <table style="width:100%;">
                    <tr >
                      <td>
                        <button type="button" style="width: 60px; height: 30px; padding: .05em;" class="btn btn-danger" onclick="incrementHealth(3)">Heal</button>
                      </td>
                      <td>
                        <input placeholder="Name" type="text" style="height: 40px; width: 200px; font-size: 30px;">
                      </td>
                    </tr>
                    
                    <tr>
                      <td>
                        <input type="text" id="changeAmountFour" style="font-size: 20px; height: 40px; width: 60px;"></input>
                      </td>
                      <td style="font-size: 30px; text-align: center; width: 30%;">
                        <div>
                          <span id="currentHealthFour">0</span> / <span id="maxHealthFour">0</span>
                        </div>
                      </td>
                    </tr>
                    
                    <tr>
                      <td>
                        <button type="button" style="width: 60px; height: 30px; padding: .05em;" onclick="reduceHealth(3)" class="btn btn-danger">Dmg</button>
                      </td>
                      <td>
                        <input type="text" placeholder="MaxHP" id="maxHealthChangeAmountFour" style="height: 40px; width: 100px; font-size: 30px;">
                        <input type="button" class="btn btn-warning" value="Submit" onclick="setMaxHealth(3)" style="height: 100%; margin-top:-14px;"; id="maxHPSubmit">
                      </td>
                    </tr>
                    
                  </table>

                </div>
              </div>

            </div>
          </div>
        </td>
      </tr>
    </table>
  </body>

</html>